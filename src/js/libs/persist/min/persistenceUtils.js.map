{"version":3,"sources":["../../src/persistenceUtils.js"],"names":["define","isCachedResponse","response","headers","has","isGeneratedEtagResponse","_isTextPayload","contentType","get","indexOf","_isMultipartPayload","requestToJSON","request","options","_noClone","clone","requestObject","_copyProperties","_getHeaderValues","_copyPayload","sourceObj","targetObj","ignoreProps","k","_isPrivateProperty","property","headersData","entries","headerEntry","headerName","headerValue","headerEntriesIter","next","forEach","_addDateHeaderIfNull","date","Date","toUTCString","source","body","Request","_copyMultipartPayload","Promise","resolve","reject","text","then","Error","message","arrayBuffer","aBuffer","length","catch","abError","formData","formDataEntry","formDataEntryValue","formDataName","formDataValue","formDataPairObject","formDataIter","err","parts","parseMultipartFormData","index","name","data","responseToJSON","responseObject","excludeBody","requestFromJSON","initFromData","skipContentType","_copyPayloadFromJsonObj","_createHeadersFromJsonObj","_createRequestFromJsonObj","FormData","formPairs","Object","keys","pairkey","append","Headers","key","url","responseFromJSON","_createResponseFromJsonObj","Response","responseType","setResponsePayload","payload","ArrayBuffer","JSON","stringify","origbody","contentTypePrased","match","bodyText","textToBlob","bytes","Uint8Array","charCodeAt","Blob","type","boundaryText","isText","view","String","fromCharCode","apply","split","RegExp","partsPairArray","partIndex","partPair","part","subparts","headerpart","datapart","parsedHeader","parsedHeaders","headerparts","hearderpartindex","headersubpart","hearderitems","trim","itemindex","itempair","substring","dataparts","join","push","buildEndpointKey","endPointKeyObj","id","Math","random","toString","replace","_cloneRequest","requestJson","requestClone","_cloneResponse","responseJson","responseClone"],"mappings":"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","file":"persistenceUtils.js"}